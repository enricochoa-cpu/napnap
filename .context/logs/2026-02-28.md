# 2026-02-28 — Share Access i18n and translation audit

## Summary

Share Access (inside My Babies → baby detail) was still showing English in Spanish/Catalan. A full pass fixed all hardcoded strings in that flow and in the related InviteCard (My Babies).

## Changes

### ShareAccess.tsx
- **Section titles/copy:** Replaced hardcoded "Pending Invitations", "You've been invited to help track these babies", "Share Access", "Let a partner or caregiver help track your baby's sleep" with `t('shareAccess.pendingInvitationsTitle')`, `t('shareAccess.pendingInvitationsIntro')`, `t('shareAccess.title')`, `t('shareAccess.sectionSubtitle')`.
- **Invite cards (received):** Baby fallback `'Baby'` → `t('common.baby')`; "from {owner}" → `t('shareAccess.from')` + `t('shareAccess.someone')` for missing owner; "Accept" / "Decline" → `t('profile.accept')` / `t('profile.decline')`.
- **Role in list:** Role label in "People with access" was raw `share.role` (caregiver/viewer); now uses `t('shareAccess.roleCaregiver')` / `t('shareAccess.roleViewer')`.

### Locales (en, es, ca)
Added to `shareAccess`:
- `sectionSubtitle` — main block subtitle (invite partner/caregiver)
- `pendingInvitationsTitle` — card title when user has received invites
- `pendingInvitationsIntro` — "You've been invited to help track these babies"
- `from` — "from" (e.g. "from Maria")
- `someone` — fallback when owner name is missing

### MyBabiesView.tsx — InviteCard
- `useTranslation()` added inside `InviteCard`.
- Baby fallback: `'Baby'` → `t('common.baby')`.
- Owner fallback: `'parent'` → `t('profile.parent')`.
- Buttons: "Accept" / "Decline" → `t('profile.accept')` / `t('profile.decline')`.

## i18n audit reference (for future “pending translations” checks)

When checking for missing or English-only text:

1. **Share Access** (`ShareAccess.tsx`): All user-facing strings now use `t()`. Keys live under `shareAccess.*` and `profile.accept`/`profile.decline`, `common.baby`.
2. **My Babies** (`MyBabiesView.tsx`): InviteCard and baby cards use `t()`; keys under `myBabies.*`, `profile.*`, `common.baby`.
3. **Profile / Baby detail**: BabyDetailView, BabyEditSheet, AccountSettingsView, SupportView, etc. use `t()` with keys in `profile.*`, `babyEdit.*`, `babyDetail.*`, `growth.*`, etc.
4. **Known still-English-only (lower priority):**
   - `AlgorithmStatusCard.tsx`: Tier labels and descriptions ("Learning", "Calibrating", "Optimised", "Note: We're currently...") are hardcoded in the component. To localise, add an `algorithmStatus` (or similar) namespace and pass translated strings from the parent or use `useTranslation()` inside the card.

## Verification

- `npm run build` passes.
- Spanish and Catalan already had `profile.accept`, `profile.decline`, `profile.from`, `profile.parent`; no new profile keys required for this change.

---

## DOB copy (later same day)

- Removed hint text “Within the last 4 years (today or earlier)” from BabyEditSheet, BabyDetailView, and OnboardingFlow.
- Shortened DOB error messages: `dobInvalid` → “Please enter a valid date (today or earlier).”; `dobTooOld` → “Date of birth is too far in the past.”; removed `dobHint` key. Same intent in es/ca.
