# 2026-02-25 — Stats screen: edge-to-edge charts, premium look, one-point growth, Y-axis visibility; floating nav bar stable width

## Summary

### Stats screen improvements (StatsView.tsx)
- **Edge-to-edge charts:** Chart wrapper divs use `-mx-4` so the chart area bleeds into the card padding. Reduced `CHART_MARGIN.left` and `CHART_MARGIN_LONG_Y.left` to 38 and 46 respectively (with matching Y-axis widths so labels fit).
- **Premium look:** All Area charts use `strokeWidth={3}` and `type="monotone"` so trends read as clear lines rather than thin fluctuations.
- **One-point growth rule:** When weight or height has only one data point, the full trend chart is not shown. Instead, `GrowthOnePointEmptyState` shows a ghost dashed line at mid height, the single value label, “Add another to see your trend” (i18n: `growth.addAnotherToSeeTrend`), and an optional “Add weight” / “Add height” button. App passes `onAddWeight` and `onAddHeight` to StatsView so the button navigates to Profile.
- **Y-axis labels visible:** Recharts `YAxis width={0}` was hiding all Y-axis tick labels. Restored explicit widths: `Y_AXIS_WIDTH_SHORT` (36) for duration charts, `Y_AXIS_WIDTH_LONG` (44) for time/weight/height. Margin left set to 38 / 46 so labels are not clipped. Lesson §7.5 added.

### Floating nav bar — no stretch when switching tabs
- **Problem:** Nav bar appeared to stretch or move when navigating to Home or Stats (viewport width changed when scrollbar appeared/disappeared per view).
- **Fix (index.css):** (1) `html { overflow-y: scroll; }` so scrollbar space is always reserved; (2) `body { overflow-x: hidden; }` to avoid horizontal scroll affecting layout; (3) `@media (min-width: 500px) { .floating-nav-inner { width: 28rem; } }` so nav has fixed width on larger viewports (covers overlay scrollbars e.g. macOS); (4) nav tabs use fixed 56px width and focus-visible box-shadow (no outline) so icon swap and focus don't shift layout. Lesson §6.6 added.

### Docs and context
- **STATS-GRAPHS-AUDIT-AND-PROPOSAL.md:** Updated §2.8 with current margin and Y-axis width constants; added §6 “Implemented (2026-02-25)”.
- **lessons.md:** New §7.5 — Recharts YAxis `width={0}` hides tick labels; New §6.6 — floating nav bar stretch fix (viewport/scrollbar, overflow-y: scroll, fixed nav width at 500px+).

## Technical notes

- StatsView: new optional props `onAddWeight`, `onAddHeight`; `GrowthOnePointEmptyState` component; constants `Y_AXIS_WIDTH_SHORT`, `Y_AXIS_WIDTH_LONG`. All chart wrappers (h-40 / h-48) have `-mx-4`.
- i18n: `growth.addAnotherToSeeTrend` (EN / ES).
- App.tsx: `renderStatsView()` passes `onAddWeight` and `onAddHeight` as `() => handleViewChange('profile')`.
- index.css: html overflow-y: scroll; body overflow-x: hidden; .floating-nav-inner fixed width at min-width 500px; .nav-tab flex 0 0 56px, width 56px, outline none, focus-visible box-shadow.
